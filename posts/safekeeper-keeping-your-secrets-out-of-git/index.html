<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Glukit</title>
    <meta name="description" content="Glukit">
    <meta name="keywords" content="diabetes T1D">
    <meta name="author" content="humans.txt">
    
    <meta property="fb:page_id" content="">
    <meta property="og:image" content="">
    <meta property="og:description" content="Glukit, The Blog">
    <meta property="og:title" content="Glukit Blog">
    
    <meta itemprop="name" content="Glukit Blog">
    <meta itemprop="description" content="Glukit, The Blog">
    <meta itemprop="image" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
        <link rel="stylesheet" href="http://blog.mygluk.it/css/gumby.css">
        
    <script src="http://blog.mygluk.it/bower_components/gumby/js/libs/modernizr-2.6.2.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.2/jquery.min.js"></script>
    <script gumby-touch="js/libs" src="bower_components/gumby/js/libs/gumby.js"></script>
    <script src="bower_components/gumby/js/libs/ui/gumby.retina.js"></script>
    <script src="bower_components/gumby/js/libs/ui/gumby.fixed.js"></script>
    <script src="bower_components/gumby/js/libs/ui/gumby.skiplink.js"></script>
    <script src="bower_components/gumby/js/libs/ui/gumby.toggleswitch.js"></script>
    <script src="bower_components/gumby/js/libs/ui/gumby.checkbox.js"></script>
    <script src="bower_components/gumby/js/libs/ui/gumby.radiobtn.js"></script>
    <script src="bower_components/gumby/js/libs/ui/gumby.tabs.js"></script>
    <script src="bower_components/gumby/js/libs/ui/gumby.navbar.js"></script>        
    <script src="bower_components/gumby/js/libs/ui/jquery.validation.js"></script>
    <script src="bower_components/gumby/js/libs/gumby.init.js"></script>
    <script src="bower_components/gumby/js/plugins.js"></script>
    <script src="bower_components/gumby/js/main.js"></script>
    <script src="js/browser.js"></script>
</head>
  <body>    
    <div class="navbar">
        <div class="row navbar" id="landing-navigation">
            <a class="toggle" gumby-trigger="#landing-navigation > ul" href="#"><i class="icon-menu"></i></a>
            <h1 class="four columns logo">
                <a href="http://blog.mygluk.it/">
                    <img src="http://blog.mygluk.it/images/logo-blog.png" gumby-retina="">
                </a>                
            </h1>
            <ul class="push_two eight columns">
                <li><a href="https://mygluk.it"><i class="icon-rocket"></i> Glukit</a></li>  
                <li><a href="http://blog.mygluk.it/index.xml"><i class="icon-rss"></i></a></li>
            </ul>
        </div>
    </div>

<div class="row">
<div class="row">
       
      <h2>Safekeeper, Keeping Your Go Secrets Out of Git</h2>

       <div class="post content">
        

<p>I&rsquo;ve been wanting to open-source <a href="https://mygluk.it/">Glukit</a> for a while but I had to find a way to keep the client ids/secrets safe and outside of git before I could do so.</p>

<p>Since Glukit runs on the Google App Engine, it can&rsquo;t itself just read the sensitive information from environment variables. I read a post that <a href="http://pseudony.ms/blags/secret-keys-gae.html">suggested storing the secret keys in the datastore</a> but I had quite a few and felt like this solution lacked good integration in the development flow.</p>

<p>After reading about <a href="http://blog.golang.org/generate">go generate</a>, I thought that this might be a good use for it. If I could get a way to use <a href="http://blog.golang.org/generate">go generate</a> and generate my app secrets into code that was going to be ommitted from the repository, I&rsquo;d have something relatively simple and convenient.</p>

<h3 id="enter-safekeeper">Enter safekeeper</h3>

<p>Based on the <a href="http://blog.golang.org/generate">go generate</a> examples, I set myself out to create a command-line tool that would take a few inputs and generate a file to be git ignored containing all application secrets. You have to <a href="https://github.com/alexandre-normand/safekeeper/blob/master/README.md">follow the instructions</a> to get a nice integration but once it&rsquo;s set up, developers can set their secrets in their environment and then they just have to run <code>go generate</code> or <code>goapp generate</code> to get them into the code to deploy or run.</p>

<p>I tried to include a detailed example of how it can be used effectively but <a href="mailto:alexandre.normand@gmail.com">let me know</a> if you find anything missing.</p>

<p>Cheers!</p>

       </div>   
 </div>          
    
      </div>
    </div>
<script>
    window._gaq = [
        ['_setAccount', 'UA-52689137-1'],
        ['_trackPageview'],
        ['_trackPageLoadTime']
    ];
    Modernizr.load({
        load: ('https:' == location.protocol ? '//ssl' : '//www') + '.google-analytics.com/ga.js'
    });
</script>

</body>
</html>
